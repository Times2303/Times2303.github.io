<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para mi princesa</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=Great+Vibes&display=swap" rel="stylesheet">

    <style>
        :root {
            --pink-glow: rgba(255, 0, 119, 0.6);
            --text-color: #f8f9fa;
            --heart-glow: #ff0055;
            --btn-pink: #ff4d88;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            height: 100vh;
            background: #05060a;
            background: radial-gradient(ellipse at bottom, #1B2735 0%, #05060a 100%);
            overflow: hidden;
            font-family: 'Playfair Display', serif;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: manipulation;
        }

        .night-overlay { position: fixed; inset: 0; z-index: -2; pointer-events: none; }
        .stars, .stars-2 { position: absolute; width: 1px; height: 1px; background: white; }
        .stars { box-shadow: 200px 300px #FFF, 500px 100px #FFF, 800px 500px #FFF, 1200px 200px #FFF, 1500px 800px #FFF, 400px 600px #FFF; animation: stars-blink 3s infinite ease-in-out; }
        .stars-2 { width: 2px; height: 2px; box-shadow: 350px 250px #FFF, 650px 150px #FFF, 950px 750px #FFF, 150px 850px #FFF, 850px 50px #FFF; animation: stars-blink 5s infinite ease-in-out 1s; }
        @keyframes stars-blink { 0%, 100% { opacity: 0.9; } 50% { opacity: 0.1; } }

        .shooting-star { position: absolute; height: 2px; width: 60px; background: linear-gradient(-45deg, #fff, rgba(0,0,0,0)); filter: drop-shadow(0 0 6px #fff); animation: shooting 4s linear infinite; opacity: 0; }
        @keyframes shooting { 0% { transform: rotateZ(35deg) translateX(-200px); opacity: 0; } 5% { opacity: 1; } 25% { transform: rotateZ(35deg) translateX(800px); opacity: 0; } 100% { opacity: 0; } }

        #intro-screen { position: fixed; inset: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10000; background: inherit; transition: opacity 0.8s ease; }
        .heart-btn { font-size: clamp(60px, 15vw, 80px); background: none; border: none; cursor: pointer; filter: drop-shadow(0 0 10px var(--heart-glow)); animation: beat 1.2s infinite ease-in-out; transition: all 0.4s ease; }
        .heart-btn:hover { filter: drop-shadow(0 0 40px #ff0055) drop-shadow(0 0 70px #ff4d88); transform: scale(1.15); }
        .intro-text { color: white; margin-top: 25px; font-size: 2vh; letter-spacing: 4px; text-transform: uppercase; opacity: 0.7; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.08); } }

        #main-content { opacity: 0; display: none; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%; text-align: center; transition: opacity 1.5s ease; }
        .header-group { margin-bottom: 2vh; transition: opacity 1s ease; }
        .titulo { color: var(--text-color); font-size: clamp(1.5rem, 6vw, 2.5rem); font-style: italic; text-shadow: 0 0 15px var(--pink-glow); }
        .pregunta-valentin { color: #ffebf3; font-size: clamp(1rem, 4vw, 1.4rem); font-style: italic; text-shadow: 0 0 10px rgba(255, 105, 180, 0.6); }
        
        .flower-container { position: relative; transition: transform 2s ease; z-index: 5; }
        .imagen { height: clamp(25vh, 38vh, 40vh); filter: drop-shadow(0 0 25px rgba(255, 0, 85, 0.3)); transition: all 2s ease; }

        .footer-group { display: flex; flex-direction: column; align-items: center; transition: opacity 1s ease; }
        .botones-container { display: flex; gap: 20px; margin-top: 2vh; z-index: 100; }
        .btn-val { padding: 10px 25px; border-radius: 50px; border: 1.5px solid white; background: transparent; color: white; font-family: 'Playfair Display', serif; font-size: 1rem; transition: all 0.3s ease; cursor: pointer; }
        .btn-si { background: rgba(255, 77, 136, 0.2); box-shadow: 0 0 10px var(--pink-glow); }
        .btn-si:hover { background: var(--btn-pink); box-shadow: 0 0 25px var(--btn-pink); transform: scale(1.1); }
        .btn-no { position: relative; transition: opacity 0.3s ease; }
        .btn-no.escape { opacity: 0; pointer-events: none; }
        #frase { font-family: 'Great Vibes', cursive; color: #ffebf3; font-size: clamp(1.5rem, 7vw, 2.8rem); text-shadow: 0 0 10px rgba(255, 105, 180, 0.8); margin-top: 2vh; min-height: 50px; transition: opacity 0.6s ease; }

        .click-text { position: absolute; pointer-events: none; font-family: 'Great Vibes', cursive; color: #fff; font-size: 2.5rem; text-shadow: 0 0 10px #ff0073; animation: fadeUp 1.5s forwards; z-index: 9999; }
        @keyframes fadeUp { 0% { opacity: 0; transform: translate(-50%, 0); } 20% { opacity: 1; } 100% { opacity: 0; transform: translate(-50%, -50px); } }

        .accepted .header-group, .accepted .footer-group { opacity: 0; pointer-events: none; }
        .accepted .imagen { height: 62vh; filter: drop-shadow(0 0 50px rgba(255, 255, 255, 0.6)); }
    </style>
</head>

<body onclick="spawnText(event)">
    <div class="night-overlay">
        <div class="stars"></div><div class="stars-2"></div>
        <div class="shooting-star" style="top: 15%; left: 10%;"></div>
        <div class="shooting-star" style="top: 40%; left: 70%; animation-delay: 2s;"></div>
    </div>

    <div id="intro-screen">
        <button class="heart-btn" id="startBtn">‚ù§Ô∏è</button>
        <p class="intro-text">Toca el coraz√≥n</p>
    </div>

    <div id="main-content">
        <div class="header-group">
            <h1 class="titulo">Para mi princesa... ‚ù§Ô∏è</h1>
            <p class="pregunta-valentin">¬øQuieres ser mi Valent√≠n?</p>
        </div>
        
        <div class="flower-container">
            <img class="imagen" id="rosaImg" src="https://i.pinimg.com/originals/4d/80/56/4d80564c89721f9a75cd1df36e42a467.gif">
        </div>

        <div class="footer-group">
            <div class="botones-container">
                <button class="btn-val btn-si" id="btnSi">S√≠ quiero</button>
                <button class="btn-val btn-no" id="btnNo">No</button>
            </div>
            <h2 id="frase"></h2>
        </div>

        <audio id="musica" src="https://files.catbox.moe/3uya6o.mp3" preload="auto" loop></audio>
    </div>

    <script>
        const btnStart = document.getElementById('startBtn');
        const intro = document.getElementById('intro-screen');
        const main = document.getElementById('main-content');
        const audio = document.getElementById('musica');
        const fraseEl = document.getElementById('frase');
        const btnNo = document.getElementById('btnNo');
        const btnSi = document.getElementById('btnSi');

        const frases = ["Tu sonrisa es mi cielo ‚ú®", "Eres el regalo m√°s lindo de mi vida üåå", "Mi lugar favorito es a tu lado üíï", "Gracias por existir üíò"];

        btnStart.addEventListener('click', (e) => {
            e.stopPropagation();
            audio.play().catch(() => {});
            intro.style.opacity = '0';
            setTimeout(() => {
                intro.style.display = 'none';
                main.style.display = 'flex';
                setTimeout(() => { main.style.opacity = '1'; }, 50);
                iniciarFrases();
            }, 800);
        });

        function spawnText(e) {
            if (e.target.tagName === 'BUTTON') return;
            const text = document.createElement('div');
            text.className = 'click-text';
            text.innerText = 'princesa'; // Corregido
            const x = e.clientX || (e.touches ? e.touches[0].clientX : 0);
            const y = e.clientY || (e.touches ? e.touches[0].clientY : 0);
            text.style.left = x + 'px';
            text.style.top = y + 'px';
            document.body.appendChild(text);
            setTimeout(() => text.remove(), 1500);
        }

        const escapeNo = (e) => {
            e.preventDefault();
            btnNo.classList.add('escape');
            setTimeout(() => btnNo.classList.remove('escape'), 1500);
        };
        btnNo.addEventListener('mouseover', escapeNo);
        btnNo.addEventListener('touchstart', escapeNo);

        btnSi.addEventListener('click', (e) => {
            e.stopPropagation();
            main.classList.add('accepted');
            clearInterval(window.fraseInterval);

            const numero = "51921252611";
            const mensaje = encodeURIComponent("¬°Si quiero ser tu valentin! ‚ù§Ô∏èüåπ");
            const url = `https://wa.me/${numero}?text=${mensaje}`;
            
            setTimeout(() => { window.location.href = url; }, 2000);
        });

        function iniciarFrases() {
            let i = 0;
            fraseEl.textContent = frases[0];
            window.fraseInterval = setInterval(() => {
                i = (i + 1) % frases.length;
                fraseEl.style.opacity = 0;
                setTimeout(() => {
                    fraseEl.textContent = frases[i];
                    fraseEl.style.opacity = 1;
                }, 600);
            }, 4000);
        }
    </script>
</body>
</html>